<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caculator in JS</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet">
</head>
<body>
    <div class="warning"></div>
<div class="container">
    <div class="calculator">
        <input type="text" class="tela" disabled/>
        <div class="buttons">
            <div class="numeros">
                <div class="row">
                    <button  class="number num1 button-30" onclick="number('1')">1</button>
                    <button  class="number num2  button-30" onclick="number('2')">2</button>
                    <button  class="number num3  button-30" onclick="number('3')">3</button>
                </div>
                <div class="row">
                    <button  class="number num4  button-30" onclick="number('4')">4</button>
                    <button  class="number num5  button-30" onclick="number('5')">5</button>
                    <button  class="number num6  button-30" onclick="number('6')">6</button>
                </div>
                <div class="row">
                    <button  class="number num7  button-30" onclick="number('7')">7</button>
                    <button  class="number num8  button-30" onclick="number('8')">8</button>
                    <button  class="number num9  button-30" onclick="number('9')">9</button>
                </div>
                <div class="row">
                    <button  class="number num0  button-30" onclick="number('0')">0</button>
                    <button  class="number virg  button-30" onclick="number('.')">,</button>
                </div>
            </div>
            
            <div class="actions">
                <div class="row">
                    <button class="action  button-30" onclick="action('soma')">+</button>
                </div>
                <div class="row">
                    <button class="action  button-30" onclick="action('sub')">-</button>
                </div>
                <div class="row">
                    <button class="action  button-30" onclick="action('div')">/</button>
                </div>
                <div class="row">
                    <button class="action  button-30" onclick="action('mult')">*</button>
                </div>
            </div>
            
        </div>
        <div class="res">
            <button class="result  button-30" onclick="result()">=</button>
        </div>
    </div>
</div>
<img src="boom.gif" class="img" style="display:none ;" alt="">
    <script>

        let firstNum = null;
        let secondNum = null;
        let act = null;
        let resultado = null;
        let tela = document.querySelector('.tela')

        const number = (val) => {

            if(firstNum === null){
                if(val === '.'){
                    firstNum = "0" + val
                }else{
                    firstNum = val
                }
                tela.value = firstNum
            } else if(firstNum !== null && act === null){
                if(firstNum.length < 6){
                    firstNum = firstNum + val
                    tela.value = firstNum
                }
            }else if(firstNum !== null && act !== null && secondNum === null){
                if(val === '.'){
                    secondNum = "0" + val
                }else{
                    secondNum =  val
                }
                tela.value = secondNum
            }else if(firstNum !== null && act !== null && secondNum !== null){
                if(secondNum.length < 6){
                secondNum = secondNum + val
                tela.value = secondNum
                }
            }
        }

        const action = (val) =>{
            if(firstNum === null){
                alert('selecione um numero primeiro')
            }else{
                act = val
            }
        }

        const result = () =>{
            switch (act) {
                case 'soma':
                    
                    resultado = parseFloat(firstNum) + parseFloat(secondNum)
                    break;
                    case 'sub':
                    
                    resultado = parseFloat(firstNum) - parseFloat(secondNum)
                    break;
                    case 'div':
                    
                    resultado = parseFloat(firstNum) / parseFloat(secondNum)
                    break;
                    case 'mult':
                    
                    resultado = parseFloat(firstNum) * parseFloat(secondNum)
                    break;
            
                default:
                    alert('1º selecio um numero | 2º')
                    break;
            }
            firstNum = null;
            secondNum = null;
            act = null;
         if(String(resultado).length < 7){
            tela.value = resultado
         }
            else if(String(resultado).length > 7 && String(resultado).length < 10){
               tela.style.fontSize = '28px'
               tela.value = resultado
           }   else if(String(resultado).length > 10 && String(resultado).length < 11){
               tela.style.fontSize = '22px'
               tela.value = resultado
           }
           else{
               document.querySelector('.warning').innerText = 'o resultado é um numero maior que meus processadores não podem processar, desculpe por ser uma calculadora inutil... vou explodir!'
               setTimeout(() => {
                tela.value = "3"
               }, 100);
               setTimeout(() => {
                tela.value = "2"
               }, 1000);
               setTimeout(() => {
                tela.value = "1"
               }, 2000);
               setTimeout(() => {
                document.querySelector('.calculator').style.display = 'none'
               }, 3000);
               setTimeout(() => {
                document.querySelector('.img').style.display = 'block'
               }, 3010);

               setTimeout(() => {
                document.querySelector('.img').style.display = 'none'
               }, 4000);
               
               

           }


        }

</script>
</body>
</html> 